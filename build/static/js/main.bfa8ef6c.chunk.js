(this.webpackJsonpdapp=this.webpackJsonpdapp||[]).push([[0],{152:function(e,t,n){},196:function(e,t,n){},346:function(e,t){},348:function(e,t){},350:function(e,t){},354:function(e,t){},381:function(e,t){},383:function(e,t){},392:function(e,t){},394:function(e,t){},404:function(e,t){},406:function(e,t){},526:function(e,t){},528:function(e,t){},535:function(e,t){},536:function(e,t){},653:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(77),s=n.n(c),o=(n(196),n(69)),i=n(25),l=n(3),d=n.n(l),u=n(10),x=n(7),p=(n(152),n(40)),b=n(33),j=n(304),m=n.n(j),h=n(0);function f(e){return Object(h.jsx)("svg",{width:"18px",height:"30px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer"},fill:e.fill,onClick:function(){return e.addVote(1)},children:Object(h.jsx)("path",{d:"M4 14h4v7a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7h4a1.001 1.001 0 0 0 .781-1.625l-8-10c-.381-.475-1.181-.475-1.562 0l-8 10A1.001 1.001 0 0 0 4 14z"})})}function O(e){return Object(h.jsx)("svg",{width:"18px",height:"30px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(180deg)",cursor:"pointer"},fill:e.fill,onClick:function(){return e.addVote(-1)},children:Object(h.jsx)("path",{d:"M4 14h4v7a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7h4a1.001 1.001 0 0 0 .781-1.625l-8-10c-.381-.475-1.181-.475-1.562 0l-8 10A1.001 1.001 0 0 0 4 14z"})})}var g=n(694),v=n(695),y=n(306),w=n.n(y),N="/";n(169).hostname().indexOf("local")>-1&&(N="http://localhost:3000/");var C=w.a.create({baseURL:N});C.interceptors.request.use((function(e){var t,n=(t="auth",window.localStorage.getItem(t));return n&&(e.headers.Authorization="Bearer "+n),e}),(function(e){return Promise.reject(e)}));var k=C;function S(e){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/requests/".concat(t));case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function A(){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/requests/");case 3:n=e.sent,t=n,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function B(e,t,n,r,a){return q.apply(this,arguments)}function q(){return(q=Object(u.a)(d.a.mark((function e(t,n,r,a,c){var s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(o=new FormData).append("title",t),o.append("content",n),o.append("type",r),o.append("eth_address",a),o.append("files",c),e.next=9,k.post("/requests/create",o);case 9:s=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function E(e){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.post("/requests/upvote/"+t);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function T(e){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.post("/requests/downvote/"+t);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function R(){return(R=Object(u.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("reciever",t),a.append("message",n),e.next=6,k.post("/chat/initiate",a);case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function z(e,t){return U.apply(this,arguments)}function U(){return(U=Object(u.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("content",t),e.next=5,k.post("/comment/post/"+n,a);case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function P(e){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/comment/all/"+t);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:return e.abrupt("return",n.data.comments);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var M=n(700);function V(e){var t=e.accountAddress,n=e.username,a=e.picture,c=e.sendEtherToRequest,s=e.eth_address,o=e.setSendEtherOpen,i=Object(r.useState)(.01),l=Object(x.a)(i,2),p=l[0],b=l[1],j=Object(r.useState)(!1),m=Object(x.a)(j,2),f=m[0],O=m[1];return Object(h.jsxs)("div",{className:"border border-gray-200 px-6 py-4 font flex flex-col bg-white rounded-3xl",children:[Object(h.jsx)("label",{className:"text-xl my-2 font-bold text-gray-900",children:"From wallet"}),Object(h.jsx)("label",{className:"text-sm font-thin my-2",children:t}),Object(h.jsx)("label",{className:"text-xl my-2 font-bold text-gray-900",children:"Recipient"}),Object(h.jsxs)("div",{className:"my-2 flex items-center text-sm",children:[Object(h.jsx)("img",{alt:"Avatar",className:"w-8 h-8 object-contain rounded-full object-cover",src:a||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjq82Piozdldq5e2mAKKCmqJsC93gYQtUtHw&usqp=CAU"}),Object(h.jsx)("label",{className:"ml-2",children:n})]}),Object(h.jsxs)("div",{className:"flex items-center my-4",children:[Object(h.jsx)("svg",{width:"2rem",height:"2rem",version:"1.1","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 784.37 1277.39",children:Object(h.jsxs)("g",{id:"Layer_x0020_1",children:[Object(h.jsx)("metadata",{id:"CorelCorpID_0Corel-Layer"}),Object(h.jsx)("g",{id:"_1421394342400",children:Object(h.jsxs)("g",{children:[Object(h.jsx)("polygon",{fill:"#343434","fill-rule":"nonzero",points:"392.07,0 383.5,29.11 383.5,873.74 392.07,882.29 784.13,650.54 "}),Object(h.jsx)("polygon",{fill:"#8C8C8C","fill-rule":"nonzero",points:"392.07,0 -0,650.54 392.07,882.29 392.07,472.33 "}),Object(h.jsx)("polygon",{fill:"#3C3C3B","fill-rule":"nonzero",points:"392.07,956.52 387.24,962.41 387.24,1263.28 392.07,1277.38 784.37,724.89 "}),Object(h.jsx)("polygon",{fill:"#8C8C8C","fill-rule":"nonzero",points:"392.07,1277.38 392.07,956.52 -0,724.89 "}),Object(h.jsx)("polygon",{fill:"#141414","fill-rule":"nonzero",points:"392.07,882.29 784.13,650.54 392.07,472.33 "}),Object(h.jsx)("polygon",{fill:"#393939","fill-rule":"nonzero",points:"0,650.54 392.07,882.29 392.07,472.33 "})]})})]})}),Object(h.jsx)("input",{type:"number",step:".01",defaultValue:.01,className:"px-4 py-4 shadow-lg outline-none rounded-2xl my-2 w-max ml-2",min:.01,onChange:function(e){return b(e.target.value)}})]}),Object(h.jsx)("button",{className:"font rounded-2xl text-xs text-white px-2 py-4 mt-2 bg-indigo-500",onClick:Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,c(s,p);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:O(!1),o(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:f?Object(h.jsx)(M.a,{color:"inherit",size:15}):"Send"})]})}function W(e){var t=e.username,n=e.title,a=e.content,c=e.type,s=e.status,o=e.sendEtherToRequest,i=e.upvotes,l=e.downvotes,b=e.shortId,j=e._id,m=e.user,y=e.eth_address,w=e.files,N=e.picture,C=e.accountAddress,k=Object(r.useState)(0),S=Object(x.a)(k,2),F=S[0],A=S[1],D=Object(r.useState)(0),B=Object(x.a)(D,2),q=B[0],I=B[1],L=Object(r.useState)(!1),z=Object(x.a)(L,2),U=z[0],P=z[1],_=Object(r.useState)(""),M=Object(x.a)(_,2),W=M[0],K=M[1],Y=Object(r.useState)(!1),G=Object(x.a)(Y,2),H=G[0],J=G[1],Q=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t){e.next=6;break}return 1===F?(A(0),I(q-1)):-1===F?(A(1),I(q+2)):(A(1),I(q+1)),e.next=4,E(b);case 4:e.next=9;break;case 6:return-1===F?(A(0),I(q+1)):1===F?(A(-1),I(q-2)):(A(-1),I(q-1)),e.next=9,T(b);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){m?(-1!==i.indexOf(m.id)?A(1):-1!==l.indexOf(m.id)&&A(-1),I(i.length-l.length)):I(i.length-l.length)}),[m,i,l]),Object(h.jsxs)("div",{className:"border border-gray-200 px-4 py-4 grid grid-cols-12 bg-white rounded-2xl mb-2",children:[Object(h.jsxs)("div",{className:"flex flex-col col-span-1 items-center",children:[Object(h.jsx)("img",{src:N||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjq82Piozdldq5e2mAKKCmqJsC93gYQtUtHw&usqp=CAU",alt:"Avatar",className:"w-12 h-12 object-contain rounded-full object-cover"}),Object(h.jsx)("label",{className:"text-xs mt-2",children:t.substring(0,7)})]}),Object(h.jsxs)("div",{className:"col-span-11 ml-2",children:[Object(h.jsx)("label",{style:{fontWeight:"600"},children:n}),w.length>0&&Object(h.jsx)("img",{src:w[0],alt:"Loading",className:"w-full my-4 rounded"}),Object(h.jsx)("div",{className:"text-sm overflow-hidden",children:a}),Object(h.jsxs)("div",{className:"flex text-xs mt-2",children:[Object(h.jsx)("label",{className:"px-2 py-1 border border-gray-200 mx-1 rounded-xl",children:1===c?"Donation":2===c?"Crowdfunding":"Personal"}),s?Object(h.jsx)("label",{className:"px-2 py-1 bg-green-100 mx-1 rounded-xl",children:"Verified"}):Object(h.jsx)("label",{className:"px-2 py-1 bg-red-100 mx-1 rounded-xl",children:"Unverified"})]}),Object(h.jsxs)("div",{className:"flex text-xs items-center my-2",children:[y&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"font px-2 py-2 bg-gray-300 rounded shadow mx-1",onClick:function(){J(!0)},children:"Donate ether"}),Object(h.jsx)(g.a,{onClose:function(){return J(!1)},open:H,className:"w-1/4 mx-auto mt-64",fullWidth:!0,maxWidth:"sm",children:Object(h.jsx)(V,{accountAddress:C,username:t,picture:N,sendEtherToRequest:o,eth_address:y,setSendEtherOpen:J})})]}),m&&m.username!==t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"font px-2 py-2 rounded shadow mx-1",onClick:function(){return P(!0)},children:"Chat"}),Object(h.jsx)(v.a,{onClose:function(){return P(!1)},open:U,className:"w-1/3 mx-auto",fullWidth:!0,maxWidth:"sm",children:Object(h.jsxs)("div",{className:"shadow px-4 py-4 font flex flex-col",children:[Object(h.jsxs)("label",{className:"text-black text-sm",children:["Start a conversation with ",t,"?"]}),Object(h.jsx)("textarea",{className:"w-full border border-gray-200 outline-none my-2 px-1 py-1 text-sm",placeholder:"Start with a message",rows:5,onChange:function(e){return K(e.target.value)}}),Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("button",{className:"mt-4 text-white px-4 py-2 text-xs rounded",style:{backgroundColor:"#5032F6"},onClick:function(){W&&(!function(e,t){R.apply(this,arguments)}(j,W),P(!1),window.location.href="/messages")},children:"Send"}),Object(h.jsx)("button",{className:"ml-2 mt-4 px-4 py-2 text-xs rounded shadow",onClick:function(){P(!1)},children:"Cancel"})]})]})})]}),Object(h.jsx)(p.b,{to:"/request/id/".concat(b),children:Object(h.jsx)("button",{className:"font px-2 py-2 rounded shadow mx-1",children:"Read more"})}),Object(h.jsxs)("div",{className:"ml-auto flex items-center select-none",children:[Object(h.jsx)(f,{addVote:Q,fill:1===F?"rgb(242,65,0)":"#ccc"}),q,Object(h.jsx)(O,{addVote:Q,fill:-1===F?"#9696F2":"#ccc"})]})]})]})]})}var K=n(690);function Y(){return Object(h.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",height:"2rem",width:"2rem",viewBox:"0 0 300 300",children:[Object(h.jsx)("g",{children:Object(h.jsx)("g",{children:Object(h.jsx)("path",{d:"M149.996,0C67.157,0,0.001,67.161,0.001,149.997S67.157,300,149.996,300s150.003-67.163,150.003-150.003\r S232.835,0,149.996,0z M221.999,133.598L123.43,232.16l0.005,0.005c-0.034,0.034-0.067,0.057-0.101,0.091l-0.604,0.604\r l-0.031-0.034c-5.561,5.179-12.766,7.763-20.225,7.763c-8.896,0-18.124-3.628-25.264-10.769\r c-6.349-6.344-10.156-14.54-10.719-23.078c-0.558-8.445,2.116-16.236,7.485-22.134l-0.054-0.054l97.41-97.41\r c8.227-8.229,22.209-7.623,31.177,1.343c4.204,4.204,6.733,9.656,7.109,15.346c0.399,5.996-1.707,11.765-5.776,15.829\r l-79.296,79.304l-11.005-11.002l79.301-79.307c1.162-1.162,1.32-2.703,1.248-3.787c-0.127-1.898-1.071-3.859-2.588-5.377\r c-2.85-2.85-7.049-3.462-9.168-1.341l-96.455,96.453l0.003,0.003c-2.783,2.78-4.155,6.725-3.864,11.108\r c0.316,4.77,2.516,9.423,6.196,13.103c7.306,7.304,18.14,8.364,24.18,2.376l98.608-98.6c4.593-4.596,6.865-11.056,6.393-18.186\r c-0.498-7.519-3.942-14.825-9.692-20.575c-11.599-11.596-28.983-13.077-38.761-3.304l-81.579,81.576l-11.005-11.002l81.579-81.579\r c15.842-15.839,43.103-14.361,60.768,3.302c8.421,8.416,13.468,19.265,14.218,30.55\r C233.694,115.049,229.816,125.781,221.999,133.598z"})})}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{}),Object(h.jsx)("g",{})]})}var G=n(34),H=n(310);Object(H.a)({apiKey:"AIzaSyDNcMhvgY1bBCx78n-Skc29pr_1L0-PVpM",authDomain:"support-my-cause-ab9e3.firebaseapp.com",projectId:"support-my-cause-ab9e3",storageBucket:"support-my-cause-ab9e3.appspot.com",messagingSenderId:"1050948384816",appId:"1:1050948384816:web:d33aca8c639a6019fb15f5"});var J=Object(G.b)(),Q=n(184),Z={homeGrid:{display:"flex",flexDirection:"row",justifyContent:"space-between"},left:{width:"28%"},right:{width:"70%"},card:{backgroundColor:"#FFFFFF",borderRadius:"15px",marginTop:"1rem",marginBottom:"1rem",boxShadow:"rgba(0, 0, 0, 0.04) 0px 3px 5px"},infoLabel:{fontSize:"25px",fontWeight:"600"},trending:{padding:"1rem",display:"flex",flexDirection:"row",flexFlow:"wrap"},myCard:{height:"15rem",padding:"1rem",display:"flex",flexDirection:"column",wordWrap:"break-word"},expenses:{display:"flex",flexDirection:"row",justifyContent:"space-between"},lastMonth:{width:"38%",height:"10rem"},lastSixMonths:{width:"60%",height:"10rem"},enableEthereumButton:{padding:"1rem",border:"none",outline:"none",backgroundColor:"#037DD6",color:"white",cursor:"pointer"},createRequestButton:{outline:"none",border:"none",padding:"0.6rem 1rem",backgroundColor:"#FFFFFF",color:"#5D2EF0",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px",cursor:"pointer"},chip:{backgroundColor:"#FAFAFA",width:"max-content",padding:"5px 7px",fontSize:"12px",borderRadius:"5px",marginBottom:"10px",marginRight:"10px"}};function X(e){var t=e.user,n=e.requests,a=e.accountAddress,c=Object(r.useState)({}),s=Object(x.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(""),b=Object(x.a)(l,2),j=b[0],m=b[1],f=Object(r.useState)(""),O=Object(x.a)(f,2),g=O[0],v=O[1];return Object(h.jsx)("div",{className:"container mx-auto",children:Object(h.jsxs)("div",{className:"grid grid-cols-12",children:[Object(h.jsx)("div",{className:"col-span-3",children:Object(h.jsxs)("div",{className:"sticky block top-16",children:[t&&Object(h.jsxs)("div",{className:"border border-gray-200 bg-white px-4 py-4 rounded-2xl",children:[Object(h.jsxs)("div",{className:"flex flex-col items-center",children:[Object(h.jsx)("img",{src:(null===t||void 0===t?void 0:t.picture)||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjq82Piozdldq5e2mAKKCmqJsC93gYQtUtHw&usqp=CAU",alt:"Avatar",className:"w-24 h-24 object-contain rounded-full object-cover"}),Object(h.jsx)("label",{className:"mt-4 text-xl",children:null===t||void 0===t?void 0:t.username}),Object(h.jsxs)("div",{className:"my-2 flex items-center py-2 border-gray-200 justify-around w-full",children:[Object(h.jsxs)("div",{className:"flex flex-col items-center",children:[Object(h.jsx)("label",{className:"text-xl",children:null===t||void 0===t?void 0:t.karma}),Object(h.jsx)("label",{className:"text-xs text-gray-400",children:"Karma"})]}),Object(h.jsx)("span",{className:"border border-gray-200 h-4"}),(null===t||void 0===t?void 0:t.verified)?Object(h.jsx)("label",{className:"mt-2 text-xs px-2 py-1 bg-green-100 rounded-xl",children:"Verified"}):Object(h.jsx)("label",{className:"mt-2 text-xs px-2 py-1 bg-red-100 rounded-xl",children:"Unverified"})]})]}),Object(h.jsx)("div",{className:"mt-4 text-xl w-full py-2 min-h-16",children:"Posts"}),Object(h.jsx)("div",{className:"text-xs my-2 text-gray-500",children:"Nothing to show!"}),Object(h.jsx)("div",{className:"mt-4 text-xl w-full py-2",children:"Comments"}),Object(h.jsx)("div",{className:"text-xs my-2 text-gray-500",children:"Nothing to show!"})]}),Object(h.jsxs)("div",{className:"border border-gray-200 bg-white px-4 py-4 mt-2 flex flex-wrap rounded-2xl",children:[Object(h.jsx)("div",{style:Z.chip,children:"#agrofunding"}),Object(h.jsx)("div",{style:Z.chip,children:"#education"}),Object(h.jsx)("div",{style:Z.chip,children:"#pmcares"}),Object(h.jsx)("div",{style:Z.chip,children:"#animalwelfare"})]}),Object(h.jsx)(p.b,{to:"/request/create",children:Object(h.jsx)("button",{className:"font text-xs mt-2 bg-indigo-500 text-white px-4 py-4 rounded-2xl w-full",children:"Create a request +"})})]})}),Object(h.jsxs)("div",{className:"col-span-6 mx-2 mt-2",children:[n.map((function(n,r){return Object(h.jsx)(W,{sendEtherToRequest:e.sendEtherToRequest,username:n.created_by.username,title:n.title,content:n.content,totalFunds:n.totalFunds,upvotes:n.upvotes,downvotes:n.downvotes,status:n.verified,type:n.type,shortId:n.shortId,_id:n.created_by._id,eth_address:n.eth_address,files:n.files,picture:n.created_by.picture,user:t,accountAddress:a},r)})),Object(h.jsx)("div",{className:"text-center py-32 text-gray-500",children:"Oops reached the end!"})]}),Object(h.jsx)("div",{className:"col-span-3",children:Object(h.jsx)("div",{className:"sticky block top-16",children:Object(h.jsxs)("div",{className:"flex flex-col border border-gray-200 bg-white rounded-2xl text-sm px-4 py-4",children:[Object(h.jsx)("label",{className:"mx-auto py-4",children:"Start crowdfunding"}),Object(h.jsx)("input",{type:"text",className:"px-4 bg-transparent border-b border-gray-100 py-2 outline-none my-2",placeholder:"Title",onChange:function(e){return v(e.target.value)}}),Object(h.jsx)(K.a,{"aria-label":"empty textarea",placeholder:"Write something about it",className:"bg-transparent outline-none px-4 py-2 border-b border-gray-100",onChange:function(e){m(e.target.value)}}),Object(h.jsx)("input",{id:"selectFiles-crowdfunding",type:"file",accept:"image/*",multiple:!0,onChange:function(e){return i(e.target.files)},style:{display:"none"}}),Object(h.jsxs)("div",{className:"flex flex-wrap items-center mt-4 px-2",children:[Object(h.jsxs)("div",{className:"flex items-center",onClick:function(){document.getElementById("selectFiles-crowdfunding").click()},children:[Object(h.jsx)(Y,{}),Object(h.jsx)("label",{className:"cursor-pointer ml-2",children:"Attach files"})]}),Object.keys(o).map((function(e,t){return Object(h.jsx)("div",{className:"px-1 py-1 bg-green-100 ml-1 rounded",children:o["".concat(e)].name},t)}))]}),a?Object(h.jsxs)("div",{className:"flex mt-4 px-2 text-xs",children:[Object(h.jsx)("input",{type:"checkbox",id:"use-address-crowdfunding"}),Object(h.jsxs)("span",{className:"ml-2",children:["Use"," ",Object(h.jsxs)("span",{className:"font-semibold",children:[a.substring(0,20),"..."]})," ","as ethereum address for this request?"]})]}):Object(h.jsx)("div",{className:"mt-4 text-sm text-gray-500",children:"Cannot see your ethereum address? Activate ethereum wallet by adding Metamask to your browser. If done, sign in to your Metamask account and refresh this page."}),Object(h.jsx)("button",{className:"text-white bg-indigo-500 px-2 py-4 mt-4 rounded-2xl text-xs",onClick:Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g||!j){e.next=2;break}return e.delegateYield(d.a.mark((function e(){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=d.a.mark((function e(r){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o[r],c=Q(""),s=Object(G.c)(J,"posts/".concat(t.id,"/").concat(c)),e.next=5,Object(G.d)(s,a).then(function(){var e=Object(u.a)(d.a.mark((function e(r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.a)(Object(G.c)(J,"posts/".concat(t.id,"/").concat(c)));case 3:a=e.sent,n.push(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})),c=0;case 3:if(!(c<o.length)){e.next=8;break}return e.delegateYield(r(c),"t0",5);case 5:c++,e.next=3;break;case 8:return e.next=10,B(g,j,2,document.getElementById("use-address-crowdfunding")&&document.getElementById("use-address-crowdfunding").checked?a:"",n);case 10:window.location.href="/";case 11:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:case"end":return e.stop()}}),e)}))),children:"Create crowdfunding request"})]})})})]})})}var $=function(e,t){return new Promise(function(){var n=Object(u.a)(d.a.mark((function n(r,a){var c,s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(c=new FormData).append("username",e),c.append("password",t),n.next=6,k.post("/auth/signup",c);case 6:return s=n.sent,n.abrupt("return",r(s));case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",a(n.t0));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}())},ee=function(e,t){return new Promise(function(){var n=Object(u.a)(d.a.mark((function n(r,a){var c,s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(c=new FormData).append("username",e),c.append("password",t),n.next=6,k.post("/auth/login",c);case 6:return s=n.sent,n.abrupt("return",r(s));case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",a(n.t0));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}())},te=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new FormData).append("url",t),e.next=5,k.post("/auth/add-profile-picture",r);case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new FormData).append("url",t),e.next=5,k.post("/auth/add-verification-file",r);case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),re=(n(29),n(184));function ae(e){var t=e.user,n=Object(r.useState)("Posts"),a=Object(x.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(),i=Object(x.a)(o,2),l=i[0],p=i[1],b=Object(r.useState)(),j=Object(x.a)(b,2),m=j[0],f=j[1],O=Object(r.useState)(),g=Object(x.a)(O,2),v=g[0],y=g[1],w=Object(r.useState)(),N=Object(x.a)(w,2),C=N[0],k=N[1];function S(e){if(e.target.files.length>0)return URL.createObjectURL(e.target.files[0])}return Object(h.jsx)("div",{className:"container mx-auto",children:Object(h.jsxs)("div",{className:"w-2/3 mx-auto my-12",children:[Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("img",{className:"w-48 h-48 rounded-full object-cover cursor-pointer",src:C||(null===t||void 0===t?void 0:t.picture)||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjq82Piozdldq5e2mAKKCmqJsC93gYQtUtHw&usqp=CAU",alt:"Avatar",onClick:function(){document.getElementById("profile-picture").click()}}),Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsx)("label",{className:"ml-4 text-2xl font-bold",children:null===t||void 0===t?void 0:t.username}),Object(h.jsx)("input",{id:"profile-picture",type:"file",accept:"image/*",onChange:function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(t.target.files[0]),n=S(t),k(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),style:{display:"none"}}),m&&Object(h.jsx)("button",{className:"ml-4 px-2 py-2 shadow-lg rounded bg-indigo-500 mt-4 text-xs w-max text-white",onClick:Object(u.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=re(""),r=Object(G.c)(J,"users/".concat(t.id,"/profile/").concat(n,".jpeg")),e.next=4,Object(G.d)(r,m).then(function(){var e=Object(u.a)(d.a.mark((function e(r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.a)(Object(G.c)(J,"users/".concat(t.id,"/profile/").concat(n,".jpeg")));case 3:return a=e.sent,e.next=6,te(a);case 6:window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),children:"Change picture"}),(null===t||void 0===t?void 0:t.verified)?Object(h.jsx)("label",{className:"px-2 py-1 bg-green-100 mx-1 rounded-xl text-xs w-max ml-4 mt-4",children:"Verified"}):Object(h.jsx)("label",{className:"px-2 py-1 bg-red-100 mx-1 rounded-xl text-xs w-max ml-4 mt-4",children:"Unverified"})]})]}),Object(h.jsxs)("div",{className:"mt-24 flex text-gray-400",children:[Object(h.jsx)("label",{className:"mx-8 cursor-pointer ".concat("Posts"===c&&"text-indigo-500 font-bold border-b border-indigo-500"),onClick:function(){return s("Posts")},children:"Posts"}),Object(h.jsx)("label",{className:"mx-8 cursor-pointer ".concat("Comments"===c&&"text-indigo-500 font-bold border-b border-indigo-500"),onClick:function(){return s("Comments")},children:"Comments"}),Object(h.jsx)("label",{className:"mx-8 cursor-pointer ".concat("Verification"===c&&"text-indigo-500 font-bold border-b border-indigo-500"),onClick:function(){return s("Verification")},children:"Verification"})]}),Object(h.jsxs)("div",{className:"mt-8 w-full flex justify-center",children:[("Posts"===c||"Comments"===c)&&Object(h.jsx)("label",{className:"text-gray-400 text-sm",children:"Nothing to show"}),!(null===t||void 0===t?void 0:t.verified)&&"Verification"===c&&!l&&Object(h.jsxs)("div",{className:"flex flex-col items-center text-gray-400 text-sm",children:[Object(h.jsx)("label",{className:"mx-auto w-max",children:"Upload any of the following documents: PAN, Aadhar, Driving Licence. (JPEG)"}),Object(h.jsx)("input",{id:"verification-file",type:"file",accept:"image/*",onChange:function(e){p(e.target.files[0]);var t=S(e);y(t)},style:{display:"none"}}),Object(h.jsx)("button",{className:"shadow-lg w-max mt-8 px-2 py-2 rounded bg-indigo-500 text-white text-xs",onClick:function(){document.getElementById("verification-file").click()},children:"Browse files"})]}),"Verification"===c&&v&&Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsx)("img",{className:"w-1/2 mx-auto rounded-lg",src:v||(null===t||void 0===t?void 0:t.verificationFile),alt:"Verification File"}),Object(h.jsxs)("div",{className:"flex ml-auto mt-4",children:[Object(h.jsx)("button",{className:"w-max shadow-lg px-2 py-2 bg-indigo-500 text-white text-xs rounded",onClick:Object(u.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=re(""),r=Object(G.c)(J,"users/".concat(t.id,"/verification/").concat(n)),e.next=4,Object(G.d)(r,l).then(function(){var e=Object(u.a)(d.a.mark((function e(r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.a)(Object(G.c)(J,"users/".concat(t.id,"/verification/").concat(n)));case 3:return a=e.sent,e.next=6,ne(a);case 6:window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),children:"Upload"}),Object(h.jsx)("button",{className:"w-max shadow-lg px-2 py-2 text-xs rounded ml-4",onClick:function(){p(null),y("")},children:"Cancel"})]})]}),"Verification"===c&&(null===t||void 0===t?void 0:t.verified)&&Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsx)("label",{className:"mx-auto w-max text-xs my-4",children:"This was uploaded by you"}),Object(h.jsx)("img",{className:"w-1/2 mx-auto rounded-lg",src:null===t||void 0===t?void 0:t.verificationFile,alt:"Verification File"})]})]})]})})}var ce=n(696),se=n(697),oe=n(692),ie=n(693),le=n(184),de={container:{display:"flex",flexDirection:"column"},input:{padding:"0.7rem",border:"none",fontSize:"15px",outline:"none",marginTop:"1rem",boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"},formControl:{marginTop:"1rem",width:"30%"},select:{boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"},ethereumAddress:{width:"50%",marginLeft:"2rem"},submit:{padding:"1rem 1rem",width:"max-content",cursor:"pointer",marginTop:"1rem",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px",outline:"none",border:"none",backgroundColor:"#32776B",color:"white",marginLeft:"auto"},attach:{cursor:"pointer",display:"flex",alignItems:"center"},tile:{padding:"10px",backgroundColor:"#ECEAE9",marginLeft:"10px",borderRadius:"5px"}};function ue(e){var t=Object(r.useState)(""),n=Object(x.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)({}),i=Object(x.a)(s,2),l=i[0],p=i[1],b=Object(r.useState)(""),j=Object(x.a)(b,2),m=j[0],f=j[1],O=Object(r.useState)(""),g=Object(x.a)(O,2),v=g[0],y=g[1],w=e.accountAddress,N=e.user;return Object(h.jsxs)("div",{className:"container mx-auto flex flex-col mt-8",children:[Object(h.jsx)("h1",{className:"font-2xl font-semibold",children:"Create your request"}),Object(h.jsx)("p",{children:"Start by adding a title for your request. This way it would be easier for people to search by title."}),Object(h.jsx)("input",{type:"text",placeholder:"Title",className:"font shadow outline-none px-4 py-4 mt-4 resize-none",onChange:function(e){return y(e.target.value)}}),Object(h.jsx)("textarea",{rows:12,className:"font shadow outline-none px-4 py-4 mt-4 resize-none",placeholder:"Describe your issue here",onChange:function(e){f(e.target.value)}}),Object(h.jsx)("input",{id:"selectFiles",type:"file",accept:"image/*",multiple:!0,onChange:function(e){return p(e.target.files)},style:{display:"none"}}),Object(h.jsxs)("div",{style:Object(o.a)(Object(o.a)({},de.attach),{},{marginTop:"1rem"}),children:[Object(h.jsxs)("div",{style:de.attach,onClick:function(){document.getElementById("selectFiles").click()},children:[Object(h.jsx)(Y,{}),Object(h.jsx)("label",{className:"cursor-pointer ml-2",children:"Attach files"})]}),Object.keys(l).map((function(e,t){return Object(h.jsx)("div",{style:de.tile,children:l["".concat(e)].name},t)}))]}),Object(h.jsx)("div",{className:"flex",children:Object(h.jsxs)(ce.a,{className:"w-1/3",children:[Object(h.jsx)(se.a,{id:"demo-simple-select-label",className:"mt-4",children:"Type"}),Object(h.jsxs)(oe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:a,label:"Type",onChange:function(e){c(e.target.value)},className:"shadow bg-white mt-4",children:[Object(h.jsx)(ie.a,{value:1,children:"Donation"}),Object(h.jsx)(ie.a,{value:2,children:"Crowdfunding"}),Object(h.jsx)(ie.a,{value:3,children:"Personal"})]})]})}),w?Object(h.jsxs)("div",{className:"flex items-center mt-8 text-sm",children:[Object(h.jsx)("input",{type:"checkbox",id:"use-address"}),Object(h.jsxs)("span",{className:"ml-2",children:["Use ",Object(h.jsx)("span",{className:"font-semibold",children:w})," as ethereum address for this request?"]})]}):Object(h.jsx)("div",{className:"mt-8 text-sm text-gray-500",children:"Cannot see your ethereum address? Activate ethereum wallet by adding Metamask to your browser. If done, sign in to your Metamask account and refresh this page."}),Object(h.jsx)("button",{className:"font bg-indigo-500 text-white w-max ml-auto px-4 py-4 shadow-2xl",onClick:Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(v&&m&&a)){e.next=2;break}return e.delegateYield(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=d.a.mark((function e(n){var r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l[n],a=le(""),c=Object(G.c)(J,"posts/".concat(N.id,"/").concat(a)),e.next=5,Object(G.d)(c,r).then(function(){var e=Object(u.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.a)(Object(G.c)(J,"posts/".concat(N.id,"/").concat(a)));case 3:r=e.sent,t.push(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})),r=0;case 3:if(!(r<l.length)){e.next=8;break}return e.delegateYield(n(r),"t0",5);case 5:r++,e.next=3;break;case 8:return e.next=10,B(v,m,a,document.getElementById("use-address")&&document.getElementById("use-address").checked?w:"",t);case 10:window.location.href="/";case 11:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:case"end":return e.stop()}}),e)}))),children:"Create request"})]})}function xe(e){return Object(h.jsx)("div",{style:{backgroundColor:"AppWorkspace",height:"100vh"},children:Object(h.jsx)("div",{className:"authApp",style:{display:"flex",alignItems:"center",height:"100%"},children:e.children})})}var pe={container:{flexDirection:"column",display:"flex",width:"40%",margin:"auto",padding:"4rem"},infoText:{fontSize:"18px",color:"grey"},labelText:{fontSize:"18px",marginTop:"1rem",color:"#002868",marginBottom:"0.5rem"},inputBox:{padding:"0.7rem 1rem",borderRadius:"10px",outline:"none",border:"solid thin #D6D6D6",backgroundColor:"transparent"},createButton:{marginTop:"2rem",padding:"1rem",backgroundColor:"#0EAF52",color:"white",outline:"none",borderRadius:"10px",border:"none",cursor:"pointer"},enableEthereumButton:{padding:"1rem",border:"none",outline:"none",backgroundColor:"#037DD6",color:"white",cursor:"pointer"},googleButton:{marginTop:"0.5rem",padding:"1rem",outline:"none",borderRadius:"10px",border:"none",cursor:"pointer"},errorCode:{height:"1rem",color:"#FE4747",userSelect:"none",fontSize:"13px",marginTop:"5px"}};function be(e){var t=Object(r.useState)(""),n=Object(x.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(x.a)(s,2),i=o[0],l=o[1],b=Object(r.useState)(""),j=Object(x.a)(b,2),m=j[0],f=j[1],O=Object(r.useState)(!1),g=Object(x.a)(O,2),v=g[0],y=g[1],w=function(){var e=Object(u.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0&&n.length>7&&n===r)){e.next=16;break}return e.prev=1,y(!0),e.next=5,$(t,n);case 5:a=e.sent,console.log(a),y(!1),localStorage.setItem("auth",a.data.token),window.location.href="/",e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),y(!1),console.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(h.jsx)(xe,{children:Object(h.jsxs)("div",{className:"container flex flex-col w-1/3 mx-auto",children:[Object(h.jsx)("h1",{style:{color:"#424242"},className:"text-xl my-2",children:"Sign up"}),Object(h.jsxs)("label",{style:pe.infoText,className:"font",children:["Already a member?"," ",Object(h.jsx)(p.b,{style:{color:"#0364FF",textDecoration:"none"},to:"/auth/signin",children:"Sign in"})]}),Object(h.jsx)("label",{style:pe.labelText,className:"font",children:"Username"}),Object(h.jsx)("input",{type:"text",style:pe.inputBox,className:"font",placeholder:"Username",onChange:function(e){return c(e.target.value)}}),Object(h.jsx)("label",{style:pe.errorCode}),Object(h.jsx)("label",{style:pe.labelText,className:"font",children:"Password"}),Object(h.jsx)("input",{type:"password",style:pe.inputBox,className:"font",placeholder:"7+ Characters, 1 Capital",onChange:function(e){return l(e.target.value)}}),Object(h.jsx)("label",{style:pe.errorCode}),Object(h.jsx)("label",{style:pe.labelText,className:"font",children:"Confirm Password"}),Object(h.jsx)("input",{type:"password",style:pe.inputBox,className:"font",placeholder:"Confirm your password",onChange:function(e){return f(e.target.value)}}),Object(h.jsx)("label",{style:pe.errorCode}),Object(h.jsx)("button",{style:pe.createButton,className:"font",onClick:function(){return w(a,i,m)},children:v?Object(h.jsx)(M.a,{size:15,color:"inherit"}):Object(h.jsx)(h.Fragment,{children:"Create an account"})}),Object(h.jsx)("div",{style:{margin:"auto"},children:Object(h.jsx)("label",{style:pe.errorCode})})]})})}var je={container:{flexDirection:"column",display:"flex",width:"40%",margin:"auto",padding:"4rem"},infoText:{fontSize:"18px",color:"grey"},labelText:{fontSize:"18px",marginTop:"1rem",color:"#002868",marginBottom:"0.5rem"},inputBox:{padding:"0.7rem 1rem",borderRadius:"10px",outline:"none",border:"solid thin #D6D6D6",backgroundColor:"transparent"},createButton:{marginTop:"2rem",padding:"1rem",backgroundColor:"#0EAF52",color:"white",outline:"none",borderRadius:"10px",border:"none",cursor:"pointer"},enableEthereumButton:{padding:"1rem",border:"none",outline:"none",backgroundColor:"#037DD6",color:"white",cursor:"pointer"},googleButton:{marginTop:"0.5rem",padding:"1rem",outline:"none",borderRadius:"10px",border:"none",cursor:"pointer"},errorCode:{height:"1rem",color:"#FE4747",userSelect:"none",fontSize:"13px",marginTop:"5px"}};function me(e){var t=Object(r.useState)(""),n=Object(x.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(x.a)(s,2),i=o[0],l=o[1],p=Object(r.useState)(!1),b=Object(x.a)(p,2),j=b[0],m=b[1],f=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,ee(t,n);case 4:r=e.sent,localStorage.setItem("auth",r.data.token),m(!1),window.location.href="/",e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),m(!1),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(h.jsx)(xe,{children:Object(h.jsxs)("div",{className:"container flex flex-col w-1/3 mx-auto",children:[Object(h.jsx)("label",{style:je.infoText,className:"font",children:"Hello User !"}),Object(h.jsx)("h1",{style:{color:"#424242"},className:"text-xl my-2",children:"Sign in"}),Object(h.jsx)("label",{style:je.labelText,className:"font",children:"Username"}),Object(h.jsx)("input",{type:"text",style:je.inputBox,className:"font",placeholder:"Username",onChange:function(e){return c(e.target.value)}}),Object(h.jsx)("label",{style:je.errorCode}),Object(h.jsx)("label",{style:je.labelText,className:"font",children:"Password"}),Object(h.jsx)("input",{type:"password",style:je.inputBox,className:"font",placeholder:"7+ Characters, 1 Capital",onChange:function(e){return l(e.target.value)}}),Object(h.jsx)("label",{style:je.errorCode}),Object(h.jsx)("button",{style:je.createButton,className:"font",onClick:function(){return f(a,i)},children:j?Object(h.jsx)(M.a,{size:15,color:"inherit"}):Object(h.jsx)(h.Fragment,{children:"Sign in"})}),Object(h.jsx)("div",{style:{margin:"auto"},children:Object(h.jsx)("label",{style:je.errorCode})})]})})}function he(e){var t=e.addComment,n=e.comment,r=e.id,a=e.setComments,c=e.comments;return Object(h.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"2rem",height:"2rem",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",style:{cursor:"pointer",padding:"auto"},onClick:Object(u.a)(d.a.mark((function e(){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,t(n,r);case 3:(s=c).push({author:{username:"You"},content:n}),a(Object(i.a)(s)),document.getElementById("comment-textarea").value="";case 7:case"end":return e.stop()}}),e)}))),children:Object(h.jsxs)("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"AppWorkspace",stroke:"none",children:[Object(h.jsx)("path",{d:"M4828 5071 c-51 -27 -606 -316 -1233 -644 -627 -327 -1675 -875\r\n-2330 -1216 -654 -342 -1200 -632 -1213 -644 -30 -27 -52 -77 -52 -117 0 -40\r\n34 -105 64 -125 35 -23 1367 -477 1382 -471 7 3 199 164 426 358 227 195 850\r\n727 1383 1182 534 456 981 838 995 850 l24 21 -24 -30 c-14 -17 -504 -608\r\n-1090 -1314 -586 -705 -1066 -1286 -1068 -1289 -1 -6 2146 -745 2255 -777 51\r\n-14 139 30 167 83 20 39 610 4015 602 4057 -8 43 -50 94 -93 111 -57 24 -96\r\n17 -195 -35z"}),Object(h.jsx)("path",{d:"M1870 845 c0 -561 -1 -549 56 -594 66 -52 155 -47 211 11 40 43 596\r\n799 590 804 -4 4 -845 294 -853 294 -2 0 -4 -232 -4 -515z"})]})})}var fe={image:{height:"3.5rem",width:"3.5rem",borderRadius:"50%",objectFit:"cover"},row:{display:"flex",flexDirection:"row"},col:{display:"flex",flexDirection:"column",width:"100%"},tags:{width:"100%",marginTop:"0.5rem"},votes:{marginLeft:"auto",display:"flex",flexDirection:"row",alignItems:"center",width:"max-content"}};function Oe(e){return Object(h.jsx)("div",{className:"mb-4 flex flex-col bg-gray-100 px-4 py-4 w-max rounded-2xl",children:Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("img",{style:fe.image,src:e.img,alt:"Profile"}),Object(h.jsxs)("div",{style:Object(o.a)(Object(o.a)({},fe.col),{},{marginLeft:"1rem"}),children:[Object(h.jsx)("label",{children:Object(h.jsx)("b",{children:e.username})}),Object(h.jsx)("p",{className:"text-sm",children:e.content})]})]})})}var ge={row:{display:"flex",flexDirection:"row"},col:{display:"flex",flexDirection:"column"},tags:{width:"100%",marginTop:"2rem"},votes:{marginLeft:"auto",display:"flex",flexDirection:"row",alignItems:"center",width:"max-content"},chatBox:{display:"flex",flexDirection:"row",marginTop:"2rem"},chatInput:{backgroundColor:"AppWorkspace",outline:"none",border:"none",width:"90%",padding:"1.3rem",borderRadius:"25px"},sendButton:{backgroundColor:"#3BA58B",height:"4rem",width:"4rem",marginLeft:"1rem",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%"},comments:{width:"100%",backgroundColor:"AppWorkspace",marginTop:"2rem",padding:"2rem",borderRadius:"5px"}};function ve(e){var t=e.user,n=e.getRequest,a=e.title,c=e.content,s=e.type,o=e.upvotes,i=e.downvotes,l=e.status,p=e.id,b=(e.shortId,e.files),j=Object(r.useState)(0),m=Object(x.a)(j,2),g=m[0],v=m[1],y=Object(r.useState)(0),w=Object(x.a)(y,2),N=w[0],C=w[1],k=Object(r.useState)([]),S=Object(x.a)(k,2),F=S[0],A=S[1],D=Object(r.useState)(""),B=Object(x.a)(D,2),q=B[0],I=B[1],L=Object(r.useState)(!0),R=Object(x.a)(L,2),U=R[0],_=R[1],V=function(){var t=Object(u.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==n){t.next=6;break}return 1===g?(v(0),C(N-1)):-1===g?(v(1),C(N+2)):(v(1),C(N+1)),t.next=4,E(e.match.params.shortId);case 4:t.next=9;break;case 6:return-1===g?(v(0),C(N+1)):1===g?(v(-1),C(N-2)):(v(-1),C(N-1)),t.next=9,T(e.match.params.shortId);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!i){e.next=7;break}return e.next=3,P(p);case 3:n=e.sent,A(n),t&&(-1!==o.indexOf(t.id)?v(1):-1!==i.indexOf(t.id)&&v(-1)),C(o.length-i.length);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[p,i,o,t]),Object(r.useEffect)((function(){(function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(e.match.params.shortId);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),_(!1)}),[e.match.params.shortId]),Object(h.jsx)("div",{className:"container mx-auto mt-8",children:U?Object(h.jsx)("div",{className:"flex",children:Object(h.jsx)(M.a,{className:"mx-auto mt-48",color:"secondary"})}):Object(h.jsxs)("div",{className:"w-1/2 mx-auto",children:[Object(h.jsx)("label",{className:"text-xs",children:"6 min ago"}),Object(h.jsx)("h1",{className:"text-xl mb-2",children:a}),Object(h.jsx)("p",{children:c}),Object(h.jsxs)("div",{className:"flex my-2 text-sm",children:[l?Object(h.jsx)("label",{className:"px-2 py-1 bg-green-100 mx-1 rounded-xl",children:"Verified"}):Object(h.jsx)("label",{className:"px-2 py-1 bg-red-100 mx-1 rounded-xl",children:"Unverified"}),Object(h.jsx)("label",{className:"px-2 py-1 border border-gray-200 mx-1 rounded-xl",children:1===s?"Donation":2===s?"Fundraiser":"Personal"}),Object(h.jsxs)("div",{style:ge.votes,children:[Object(h.jsx)(f,{addVote:V,fill:1===g?"rgb(242,65,0)":"#ccc"}),N,Object(h.jsx)(O,{addVote:V,fill:-1===g?"#9696F2":"#ccc"})]})]}),(null===b||void 0===b?void 0:b.length)>0&&Object(h.jsx)("img",{alt:"File uploaded by user",className:"w-full mt-4 mx-auto rounded",src:b[0]}),Object(h.jsxs)("div",{className:"flex mt-8 shadow-lg rounded-full",onChange:function(e){return I(e.target.value)},children:[Object(h.jsx)("input",{type:"text",style:ge.chatInput,placeholder:"Write a comment",className:"font",id:"comment-textarea",autoComplete:"off"}),Object(h.jsx)("div",{style:ge.sendButton,className:"my-1",children:Object(h.jsx)(he,{addComment:z,comment:q,id:p,setComments:A,comments:F})})]}),Object(h.jsx)("div",{className:"my-12",children:F.map((function(e,t){return Object(h.jsx)(Oe,{img:"https://mdbootstrap.com/img/Photos/Avatars/img(20).jpg",username:e.author.username,content:e.content},t)}))})]})})}var ye={container:{display:"flex",flexDirection:"row",justifyContent:"space-between"},search:{width:"100%",padding:"1.3rem",borderRadius:"25px",outline:"none",border:"none"},card:{width:"100%",backgroundColor:"AppWorkspace",display:"flex",flexDirection:"column",marginTop:"2rem",padding:"2rem",borderRadius:"25px"},button:{width:"max-content",padding:"1.3rem",borderRadius:"25px",outline:"none",border:"none",backgroundColor:"AppWorkspace"},contact:{height:"5rem",width:"100%",display:"flex",flexDirection:"row",marginBottom:"2rem",cursor:"pointer"},contactDetails:{marginLeft:"1rem",borderBottom:"solid thin #ECEAE9",width:"100%",marginTop:"10px"},image:{height:"5rem",width:"5rem",borderRadius:"50%",objectFit:"cover"},messageOut:{padding:"1.4rem 1rem",backgroundColor:"#4D426D",borderRadius:"20px 0 20px 20px",width:"max-content",marginLeft:"auto",color:"white",marginBottom:"1rem"},messageIn:{padding:"1.4rem 1rem",backgroundColor:"#F6F8FA",borderRadius:"0 20px 20px 20px",width:"max-content",marginBottom:"1rem"},chatBox:{display:"flex",flexDirection:"row",marginTop:"auto"},chatInput:{backgroundColor:"#F6F8FA",outline:"none",border:"none",width:"80%",padding:"1.3rem",borderRadius:"25px"},sendButton:{backgroundColor:"#3BA58B",height:"4rem",width:"4rem",marginLeft:"1rem",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%"}};function we(e){var t,n,r,a,c,s=e.current,o=e.setCurrent,i=e.user,l=e.sendMessage,d=e.chat;return Object(h.jsxs)("div",{className:"container flex mx-auto justify-between mt-8",children:[Object(h.jsxs)("div",{style:{width:"30%"},children:[Object(h.jsx)("input",{type:"text",placeholder:"Search",style:ye.search,className:"font px-4 py-4 bg-gray-100 rounded-3xl"}),Object(h.jsx)("div",{style:ye.card,className:"shadow",children:i&&(null===i||void 0===i||null===(t=i.chat)||void 0===t?void 0:t.map((function(e,t){var n,r,a;return Object(h.jsxs)("div",{style:ye.contact,onClick:function(){o(t)},className:"item",children:[Object(h.jsx)("img",{src:e.picture||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjq82Piozdldq5e2mAKKCmqJsC93gYQtUtHw&usqp=CAU",alt:"Avatar",style:ye.image}),Object(h.jsxs)("div",{style:ye.contactDetails,children:[Object(h.jsx)("div",{style:{width:"100%"},children:Object(h.jsx)("label",{children:Object(h.jsx)("b",{children:(null===(n=e.sender)||void 0===n?void 0:n.username)===i.username?null===(r=e.reciever)||void 0===r?void 0:r.username:null===(a=e.sender)||void 0===a?void 0:a.username})})}),Object(h.jsx)("p",{children:e.content})]})]},t)})))})]}),Object(h.jsxs)("div",{style:{width:"60%"},className:"h-screen",children:[Object(h.jsx)("button",{className:"font ml-auto px-4 py-4 bg-gray-100 rounded-3xl",children:"Clear chat"}),Object(h.jsx)("button",{className:"font ml-2 px-4 py-4 bg-gray-100 rounded-3xl",children:"More"}),Object(h.jsxs)("div",{className:"h-2/3 shadow rounded-3xl flex flex-col px-4 py-4 bg-white mt-8",children:[Object(h.jsxs)("div",{children:[i&&-1!==s&&Object(h.jsx)(h.Fragment,{children:(null===i||void 0===i||null===(n=i.chat[s])||void 0===n||null===(r=n.sender)||void 0===r?void 0:r.username)===i.username?Object(h.jsx)("div",{className:"px-4 py-6 mb-2 ml-auto w-max bg-indigo-900 text-white rounded-b-3xl rounded-tl-3xl",children:null===i||void 0===i||null===(a=i.chat[s])||void 0===a?void 0:a.content}):Object(h.jsx)("div",{className:"px-4 py-6 mb-2 w-max bg-gray-100 rounded-b-3xl rounded-tr-3xl",children:null===i||void 0===i||null===(c=i.chat[s])||void 0===c?void 0:c.content})}),function(){var e=[];if(-1===s)return e;for(var t=0;t<d.length;t++){var n=d[t];n.reciever===i.id?e.push(Object(h.jsx)("div",{className:"px-4 py-6 mb-2 w-max bg-gray-100 rounded-b-3xl rounded-tr-3xl",children:n.message},t)):e.push(Object(h.jsx)("div",{className:"px-4 py-6 mb-2 ml-auto w-max bg-indigo-900 text-white rounded-b-3xl rounded-tl-3xl",children:n.message},t))}return e}()]}),-1===s?Object(h.jsx)("div",{className:"flex justify-center items-center h-full",children:Object(h.jsx)("span",{className:"text-2xl",children:"Start chatting with people"})}):Object(h.jsxs)("div",{style:ye.chatBox,children:[Object(h.jsx)("input",{type:"text",style:ye.chatInput,placeholder:"Type a message",className:"font",id:"message-edit",autocomplete:"off"}),Object(h.jsx)("div",{style:ye.sendButton,onClick:function(){var e=i.chat[s].sender.username===i.username?i.chat[s].reciever._id:i.chat[s].sender._id;l(e)},children:Object(h.jsx)(he,{})})]})]})]})]})}var Ne=Object(r.memo)(we),Ce=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/admin/users");case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("value",n),e.next=5,k.post("/admin/verify/"+t,a);case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("value",n),a.append("id",t),e.next=6,k.post("/admin/users/verify",a);case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();function Fe(e){var t=e.requests,n=(e.user,e.setRequests),a=Object(r.useState)(1),c=Object(x.a)(a,2),s=c[0],o=c[1],l=Object(r.useState)([]),b=Object(x.a)(l,2),j=b[0],m=b[1],f=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(t.target.value),2!==t.target.value||0!==j.length){e.next=6;break}return e.next=4,Ce();case 4:n=e.sent,m(n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container mx-auto mt-8",children:[Object(h.jsx)("label",{className:"text-3xl font-semibold",children:"Admin"}),Object(h.jsxs)("div",{className:"flex mt-8 text-sm items-center",children:[Object(h.jsx)(ce.a,{className:"w-max mr-2 cursor-pointer",size:"small",children:Object(h.jsxs)(oe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:s||1,onChange:f,className:"shadow bg-white",children:[Object(h.jsx)(ie.a,{value:1,children:Object(h.jsx)("label",{className:"text-sm font",children:"Posts"})}),Object(h.jsx)(ie.a,{value:2,children:Object(h.jsx)("label",{className:"text-sm font",children:"Users"})})]})}),Object(h.jsxs)("div",{className:"border border-gray-200 rounded px-4 py-2 w-1/6 mx-2",children:[Object(h.jsx)("label",{children:"Verified posts"}),Object(h.jsx)("label",{className:"ml-2",children:"120"})]}),Object(h.jsxs)("div",{className:"border border-gray-200 rounded px-4 py-2 w-1/6 mx-2",children:[Object(h.jsx)("label",{children:"Unverified posts"}),Object(h.jsx)("label",{className:"ml-2",children:"12"})]})]}),1===s&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"grid grid-cols-12 mt-8 bg-gray-100 px-4 py-2",children:[Object(h.jsx)("label",{className:"col-span-2",children:"Created By"}),Object(h.jsx)("label",{className:"col-span-2",children:"Title"}),Object(h.jsx)("label",{className:"col-span-2",children:"Status"}),Object(h.jsx)("label",{className:"col-span-2",children:"Type"}),Object(h.jsx)("label",{className:"col-span-2",children:"Created At"}),Object(h.jsx)("label",{className:"col-span-2",children:"Action"})]}),null===t||void 0===t?void 0:t.map((function(e,r){return Object(h.jsxs)("div",{className:"grid grid-cols-12 mt-2 px-4 py-2 text-sm",children:[Object(h.jsxs)("label",{className:"col-span-2 font-semibold flex items-center",children:[Object(h.jsx)("img",{src:e.created_by.picture||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjq82Piozdldq5e2mAKKCmqJsC93gYQtUtHw&usqp=CAU",className:"w-8 h-8 rounded-full mr-2"}),e.created_by.username]}),Object(h.jsxs)(p.b,{className:"col-span-2",to:"/request/id/".concat(e.shortId),children:[e.title.substring(0,50),"..."]}),e.verified?Object(h.jsx)("label",{className:"col-span-2 px-2 py-1 bg-green-100 rounded-xl w-max self-start",children:"Verified"}):Object(h.jsx)("label",{className:"col-span-2 px-2 py-1 bg-red-100 rounded-xl w-max self-start",children:"Unverified"}),Object(h.jsx)("label",{className:"col-span-2 text-yellow-900",children:1===parseInt(e.type)?"Donation":2===parseInt(e.type)?"Fundraiser":"Personal"}),Object(h.jsx)("label",{className:"col-span-2",children:e.created_at}),e.verified&&Object(h.jsx)("button",{className:"col-span-2 px-2 py-2 rounded-xl bg-red-500 w-max text-xs text-white self-start shadow-lg",onClick:Object(u.a)(d.a.mark((function a(){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ke(e.shortId,!1);case 2:(c=t)[r].verified=!1,n(Object(i.a)(c));case 5:case"end":return a.stop()}}),a)}))),children:"Set to Unverified"}),!e.verified&&Object(h.jsx)("button",{className:"col-span-2 px-2 py-2 rounded-xl bg-green-500 w-max text-xs text-white self-start shadow-lg",onClick:Object(u.a)(d.a.mark((function a(){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ke(e.shortId,!0);case 2:(c=t)[r].verified=!0,n(Object(i.a)(c));case 5:case"end":return a.stop()}}),a)}))),children:"Set to verified"})]},r)}))]}),2===s&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"grid grid-cols-12 mt-8 bg-gray-100 px-4 py-2",children:[Object(h.jsx)("label",{className:"col-span-2",children:"Username"}),Object(h.jsx)("label",{className:"col-span-2",children:"Type"}),Object(h.jsx)("label",{className:"col-span-2",children:"Karma"}),Object(h.jsx)("label",{className:"col-span-2",children:"Verification"}),Object(h.jsx)("label",{className:"col-span-2",children:"Verified"}),Object(h.jsx)("label",{className:"col-span-2",children:"Action"})]}),null===j||void 0===j?void 0:j.map((function(e,t){return Object(h.jsxs)("div",{className:"grid grid-cols-12 mt-2 px-4 py-2 text-sm",children:[Object(h.jsxs)("label",{className:"col-span-2 font-semibold flex items-center",children:[Object(h.jsx)("img",{src:e.picture||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjq82Piozdldq5e2mAKKCmqJsC93gYQtUtHw&usqp=CAU",className:"w-8 h-8 rounded-full mr-2"}),e.username]}),Object(h.jsx)("label",{className:"col-span-2",children:e.type}),Object(h.jsx)("label",{className:"col-span-2",children:e.karma}),e.verificationFile?Object(h.jsx)("a",{className:"col-span-2",href:e.verificationFile,children:"Link"}):Object(h.jsx)("label",{className:"col-span-2",children:"Not available"}),e.verified?Object(h.jsx)("label",{className:"col-span-2 px-2 py-1 bg-green-100 rounded-xl w-max self-start",children:"Verified"}):Object(h.jsx)("label",{className:"col-span-2 px-2 py-1 bg-red-100 rounded-xl w-max self-start",children:"Unverified"}),e.verified&&Object(h.jsx)("button",{className:"col-span-2 px-2 py-2 rounded-xl bg-red-500 w-max text-xs text-white self-start shadow-lg",onClick:Object(u.a)(d.a.mark((function n(){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Se(e._id,!1);case 2:(r=j)[t].verified=!1,m(Object(i.a)(r));case 5:case"end":return n.stop()}}),n)}))),children:"Set to Unverified"}),!e.verified&&Object(h.jsx)("button",{className:"col-span-2 px-2 py-2 rounded-xl bg-green-500 w-max text-xs text-white self-start shadow-lg",onClick:Object(u.a)(d.a.mark((function n(){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Se(e._id,!0);case 2:(r=j)[t].verified=!0,m(Object(i.a)(r));case 5:case"end":return n.stop()}}),n)}))),children:"Set to verified"})]},t)}))]})]})}var Ae={container:{boxShadow:"rgba(0, 0, 0, 0.04) 0px 3px 5px",width:"100%",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"row",justifyContent:"center"},menu:{margin:"0 2rem",fontWeight:"600",display:"flex",flexDirection:"row"},menuItem:{padding:"1.5rem 1rem 1.5rem 1rem",width:"max-content",cursor:"pointer"},active:{borderBottom:"solid 2px #5032F6",color:"#5032F6"}};function De(e){var t=Object(r.useState)(!1),n=Object(x.a)(t,2),a=n[0],c=n[1],s=e.user;return Object(h.jsxs)("div",{className:"flex flex-row sticky block top-0 justify-center items-center bg-white border-b border-gray-200 font text-sm z-10",children:[Object(h.jsx)("div",{className:"font w-max px-4 py-4 mr-auto",children:"SupportMyCause"}),Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)(p.b,{style:"/"===window.location.pathname?Ae.active:{},className:"w-max px-4 py-4",to:"/",children:"Home"}),s&&Object(h.jsx)(p.b,{style:"/profile"===window.location.pathname?Ae.active:{},className:"w-max px-4 py-4",to:"/profile",children:"Profile"}),s&&Object(h.jsx)(p.b,{style:"/messages"===window.location.pathname?Ae.active:{},className:"w-max px-4 py-4",to:"/messages",children:"Messages"}),"Admin"===(null===s||void 0===s?void 0:s.type)&&Object(h.jsx)(p.b,{style:"/admin"===window.location.pathname?Ae.active:{},className:"w-max px-4 py-4",to:"/admin",children:"Admin"})]}),s?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{className:"w-max px-4 py-4 ml-auto cursor-pointer",onClick:function(){return c(!0)},children:s.username}),Object(h.jsx)(v.a,{onClose:function(){return c(!1)},open:a,className:"w-1/5 mx-auto",children:Object(h.jsxs)("div",{className:"shadow px-12 py-4 font flex flex-col items-center",children:[Object(h.jsxs)("label",{children:["Hi, ",s.username]}),Object(h.jsx)("button",{className:"mt-4 text-white px-4 py-2 text-sm rounded-2xl",style:{backgroundColor:"#5032F6"},onClick:function(){localStorage.removeItem("auth"),window.location.href="/"},children:"Sign out"})]})})]}):Object(h.jsx)(p.b,{to:"/auth/signup",className:"w-max ml-auto mr-2",children:Object(h.jsx)("button",{className:"text-white px-4 py-2 text-sm rounded-2xl",style:{backgroundColor:"#5032F6"},children:"Sign up"})})]})}function Be(){return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2rem",height:"rem",viewBox:"0 0 212 189",children:Object(h.jsxs)("g",{fill:"none","fill-rule":"evenodd",children:[Object(h.jsx)("polygon",{fill:"#CDBDB2",points:"60.75 173.25 88.313 180.563 88.313 171 90.563 168.75 106.313 168.75 106.313 180 106.313 187.875 89.438 187.875 68.625 178.875"}),Object(h.jsx)("polygon",{fill:"#CDBDB2",points:"105.75 173.25 132.75 180.563 132.75 171 135 168.75 150.75 168.75 150.75 180 150.75 187.875 133.875 187.875 113.063 178.875",transform:"matrix(-1 0 0 1 256.5 0)"}),Object(h.jsx)("polygon",{fill:"#393939",points:"90.563 152.438 88.313 171 91.125 168.75 120.375 168.75 123.75 171 121.5 152.438 117 149.625 94.5 150.188"}),Object(h.jsx)("polygon",{fill:"#F89C35",points:"75.375 27 88.875 58.5 95.063 150.188 117 150.188 123.75 58.5 136.125 27"}),Object(h.jsx)("polygon",{fill:"#F89D35",points:"16.313 96.188 .563 141.75 39.938 139.5 65.25 139.5 65.25 119.813 64.125 79.313 58.5 83.813"}),Object(h.jsx)("polygon",{fill:"#D87C30",points:"46.125 101.25 92.25 102.375 87.188 126 65.25 120.375"}),Object(h.jsx)("polygon",{fill:"#EA8D3A",points:"46.125 101.813 65.25 119.813 65.25 137.813"}),Object(h.jsx)("polygon",{fill:"#F89D35",points:"65.25 120.375 87.75 126 95.063 150.188 90 153 65.25 138.375"}),Object(h.jsx)("polygon",{fill:"#EB8F35",points:"65.25 138.375 60.75 173.25 90.563 152.438"}),Object(h.jsx)("polygon",{fill:"#EA8E3A",points:"92.25 102.375 95.063 150.188 86.625 125.719"}),Object(h.jsx)("polygon",{fill:"#D87C30",points:"39.375 138.938 65.25 138.375 60.75 173.25"}),Object(h.jsx)("polygon",{fill:"#EB8F35",points:"12.938 188.438 60.75 173.25 39.375 138.938 .563 141.75"}),Object(h.jsx)("polygon",{fill:"#E8821E",points:"88.875 58.5 64.688 78.75 46.125 101.25 92.25 102.938"}),Object(h.jsx)("polygon",{fill:"#DFCEC3",points:"60.75 173.25 90.563 152.438 88.313 170.438 88.313 180.563 68.063 176.625"}),Object(h.jsx)("polygon",{fill:"#DFCEC3",points:"121.5 173.25 150.75 152.438 148.5 170.438 148.5 180.563 128.25 176.625",transform:"matrix(-1 0 0 1 272.25 0)"}),Object(h.jsx)("polygon",{fill:"#393939",points:"70.313 112.5 64.125 125.438 86.063 119.813",transform:"matrix(-1 0 0 1 150.188 0)"}),Object(h.jsx)("polygon",{fill:"#E88F35",points:"12.375 .563 88.875 58.5 75.938 27"}),Object(h.jsx)("path",{fill:"#8E5A30",d:"M12.3750002,0.562500008 L2.25000003,31.5000005 L7.87500012,65.250001 L3.93750006,67.500001 L9.56250014,72.5625 L5.06250008,76.5000011 L11.25,82.1250012 L7.31250011,85.5000013 L16.3125002,96.7500014 L58.5000009,83.8125012 C79.1250012,67.3125004 89.2500013,58.8750003 88.8750013,58.5000009 C88.5000013,58.1250009 63.0000009,38.8125006 12.3750002,0.562500008 Z"}),Object(h.jsxs)("g",{transform:"matrix(-1 0 0 1 211.5 0)",children:[Object(h.jsx)("polygon",{fill:"#F89D35",points:"16.313 96.188 .563 141.75 39.938 139.5 65.25 139.5 65.25 119.813 64.125 79.313 58.5 83.813"}),Object(h.jsx)("polygon",{fill:"#D87C30",points:"46.125 101.25 92.25 102.375 87.188 126 65.25 120.375"}),Object(h.jsx)("polygon",{fill:"#EA8D3A",points:"46.125 101.813 65.25 119.813 65.25 137.813"}),Object(h.jsx)("polygon",{fill:"#F89D35",points:"65.25 120.375 87.75 126 95.063 150.188 90 153 65.25 138.375"}),Object(h.jsx)("polygon",{fill:"#EB8F35",points:"65.25 138.375 60.75 173.25 90 153"}),Object(h.jsx)("polygon",{fill:"#EA8E3A",points:"92.25 102.375 95.063 150.188 86.625 125.719"}),Object(h.jsx)("polygon",{fill:"#D87C30",points:"39.375 138.938 65.25 138.375 60.75 173.25"}),Object(h.jsx)("polygon",{fill:"#EB8F35",points:"12.938 188.438 60.75 173.25 39.375 138.938 .563 141.75"}),Object(h.jsx)("polygon",{fill:"#E8821E",points:"88.875 58.5 64.688 78.75 46.125 101.25 92.25 102.938"}),Object(h.jsx)("polygon",{fill:"#393939",points:"70.313 112.5 64.125 125.438 86.063 119.813",transform:"matrix(-1 0 0 1 150.188 0)"}),Object(h.jsx)("polygon",{fill:"#E88F35",points:"12.375 .563 88.875 58.5 75.938 27"}),Object(h.jsx)("path",{fill:"#8E5A30",d:"M12.3750002,0.562500008 L2.25000003,31.5000005 L7.87500012,65.250001 L3.93750006,67.500001 L9.56250014,72.5625 L5.06250008,76.5000011 L11.25,82.1250012 L7.31250011,85.5000013 L16.3125002,96.7500014 L58.5000009,83.8125012 C79.1250012,67.3125004 89.2500013,58.8750003 88.8750013,58.5000009 C88.5000013,58.1250009 63.0000009,38.8125006 12.3750002,0.562500008 Z"})]})]})})}function qe(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(De,{user:e.user}),"undefined"===typeof window.ethereum||"undefined"===typeof window.ethereum.isMetaMask?Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#EE811A"},children:[Object(h.jsx)("h4",{style:{textAlign:"center",marginRight:"1rem"},className:"font px-2 py-2 text-white",children:"Please install Metamask"}),Object(h.jsx)(Be,{})]}):null,Object(h.jsx)("div",{className:"App",children:e.children})]})}var Ee=n(314),Ie="/";n(169).hostname().indexOf("local")>-1&&(Ie="http://localhost:3000/");var Te=Object(Ee.a)(Ie);var Le=function(){var e=Object(r.useState)([]),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(x.a)(c,2),l=s[0],j=s[1],f=Object(r.useState)(""),O=Object(x.a)(f,2),g=O[0],v=O[1],y=Object(r.useState)(),w=Object(x.a)(y,2),N=w[0],C=w[1],F=Object(r.useState)([]),D=Object(x.a)(F,2),B=D[0],q=D[1],E=Object(r.useState)({}),I=Object(x.a)(E,2),T=I[0],L=I[1],R=Object(r.useState)(-1),z=Object(x.a)(R,2),U=z[0],P=z[1],_=Object(r.useState)([]),M=Object(x.a)(_,2),V=M[0],W=M[1];Object(r.useEffect)((function(){N||function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/auth/get-my-profile");case 3:return r=e.sent,e.abrupt("return",t(r));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:t=e.sent,C(t.data),Te.emit("CONFIG",{uid:t.data.id}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:try{J()}catch(n){console.error(n)}case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[N]),Object(r.useEffect)((function(){try{Te.on("NEW_MESSAGE",(function(e){W((function(t){return[].concat(Object(i.a)(t),[e])}))})),function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,n=t.data,q(Object(i.a)(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}catch(e){console.error(e)}}),[]);var K=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:n=e.sent,L(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById("message-edit").value,r=N.id,a=t,n&&(document.getElementById("message-edit").value="",null===Te||void 0===Te||Te.emit("MESSAGE",{message:n,reciever:a,sender:r}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=new m.a(window.ethereum),H=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={nonce:"0x00",gas:"21000",to:t,from:"0x227da402F13894d89F970804Fc791eb4c9b6f81D",value:G.utils.toWei((n/100).toString(),"ether"),data:"0x7f7465737432000000000000000000000000000000000000000000000000000000600057",chainId:"3"},e.next=4,window.ethereum.request({method:"eth_sendTransaction",params:[r]});case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return e.next=5,G.eth.getAccounts();case 5:return t=e.sent,a(Object(i.a)(t)),n=t[0],v(n),e.next=11,G.eth.getBalance(n);case 11:return r=e.sent,e.next=14,G.utils.fromWei(r);case 14:r=e.sent,j(r),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)(p.a,{children:Object(h.jsxs)(b.c,{children:[Object(h.jsx)(b.a,{path:"/auth/signin",children:Object(h.jsx)(me,{accounts:n,connectMetamask:J,accountAddress:g,user:N})}),Object(h.jsx)(b.a,{path:"/auth/signup",children:Object(h.jsx)(be,{accounts:n,connectMetamask:J,accountAddress:g,user:N})}),Object(h.jsxs)(qe,{user:N,children:[Object(h.jsx)(b.a,{path:"/profile",children:Object(h.jsx)(ae,{user:N})}),Object(h.jsx)(b.a,{path:"/request/create",children:Object(h.jsx)(ue,{accountAddress:g,user:N})}),Object(h.jsx)(b.a,{path:"/request/id/:shortId",render:function(e){var t;return Object(h.jsx)(ve,Object(o.a)(Object(o.a)({},e),{},{user:N,getRequest:K,username:null===T||void 0===T||null===(t=T.created_by)||void 0===t?void 0:t.username,title:null===T||void 0===T?void 0:T.title,content:null===T||void 0===T?void 0:T.content,type:null===T||void 0===T?void 0:T.type,created_at:null===T||void 0===T?void 0:T.created_at,upvotes:null===T||void 0===T?void 0:T.upvotes,downvotes:null===T||void 0===T?void 0:T.downvotes,status:null===T||void 0===T?void 0:T.verified,id:null===T||void 0===T?void 0:T._id,shortId:null===T||void 0===T?void 0:T.shortId,files:null===T||void 0===T?void 0:T.files}))}}),Object(h.jsx)(b.a,{path:"/messages",children:Object(h.jsx)(Ne,{current:U,setCurrent:P,user:N,sendMessage:Y,chat:V})}),Object(h.jsx)(b.a,{path:"/admin",children:Object(h.jsx)(Fe,{user:N,requests:B,setRequests:q})}),Object(h.jsx)(b.a,{exact:!0,path:"/",children:Object(h.jsx)(X,{user:N,accountAddress:g,eth_balance:l,sendEtherToRequest:H,accounts:n,connectMetamask:J,requests:B})})]})]})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,702)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(Le,{})}),document.getElementById("root")),Re()}},[[653,1,2]]]);
//# sourceMappingURL=main.bfa8ef6c.chunk.js.map